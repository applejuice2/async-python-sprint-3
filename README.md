# Проектное задание третьего спринта

Было реализовано приложение для получения и обработки сообщений от клиента.

## Описание задания

### `Сервер`

Сервис, который обрабатывает поступающие запросы от клиентов.

Что умеет делать сервер:
1. Подключенный клиент добавляется в «общий» чат, где находятся ранее подключенные клиенты.
2. После подключения новому клиенту доступны последние N cообщений из общего чата (20, по умолчанию).
3. Повторно подключенный клиент имеет возможность просмотреть все ранее непрочитанные сообщения до момента последнего опроса (как из общего чата, так и приватные).
4. По умолчанию сервер стартует на локальном хосте (127.0.0.1) и на 8000 порту (возможность задать любой).

<summary> Список возможных методов для взаимодействия </summary>

/sign_in <username>: для входа или регистрации пользователя на сервере. 
В ответе приходят либо последние 20 сообщений 
(если пользователь ещё ни разу не подключался к серверу),
либо все непрочитанные пользователем сообщения.

/send_all <message>: отправить сообщение в общий чат.

/send <target_username> <message>: отправить приватное сообщение пользователю.

/get_chat_with <username>: получить историю сообщений с пользователем. 
Повторно подключенный клиент имеет возможность просмотреть все ранее непрочитанные
сообщения до момента последнего опроса (как из общего чата, так и приватные).

/status: получить список активных и неактивных пользователей и список существующих приватных чатов.

/report <username>: Зарепортить пользователя. 
(по достижению 3 репортов пользователь банится на 4 часа)

/send_delayed <target_username> <delay: seconds> <message> : отправить отложенное сообщение.

/cancel_delayed <id_of_delayed_message>: отменить отправку отложенного сообщения.
Нобходимо указать ID отложенного сообщения, которое пользователь получает при
отправке отложенного сообщения.

### `Клиент`

Реализован сервис, который умеет подключаться к серверу для обмена сообщениями с другими клиентами.

Что умеет делать клиень:
1. После подключения клиент может отправлять сообщения в «общий» чат.
2. Возможность отправки сообщения в приватном чате (1-to-1) любому участнику из общего чата.


### Дополнительно реализованные требования (отметить [Х] выбранные пункты):

- [-] (2 балла) Возможность создавать сообщения с заранее указанным временем отправки; созданные, но не отправленные сообщения можно отменить.
- [-] (2 балла) Возможность пожаловаться на пользователя. При достижении лимита в 3 предупреждения, пользователь становится «забанен» — невозможность отправки сообщений в течение 4 часов (по умолчанию).



## Требования к решению

1. Описана документация по разработанному API.
2. Использованы концепции ООП.
3. Использованы аннотации типов.
4. Стиль кода приведён в соответствие с pep8, flake8, mypy.
6. Результаты действий логированы.
7. Покройте написанный код тестами.


## Рекомендации к решению

1. Можно использовать внешние библиотеки, но не фреймворки (описать в **requirements.txt**).
2. Можно не проектировать БД: информацию хранить в памяти и/или десериализовать/сериализировать в файл (формат на выбор) и восстанавливать при старте сервера.
3. Нет необходимости разрабатывать UI для клиента: можно выводить информацию в консоль или использовать лог-файлы.
4. API может быть, как вызов по команде/флагу для консольного приложения или эндпойнт для http-сервиса.
